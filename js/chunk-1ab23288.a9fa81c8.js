(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1ab23288"],{"00ab":function(e,t,r){},"82f8b":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("page-header-wrapper",[r("a-card",{attrs:{bordered:!1}},[r("a-spin",{attrs:{spinning:e.loading}},[r("a-form-model",{ref:"insert",attrs:{model:e.insertForm,rules:e.insertFormRules},on:{submit:e.handleSubmit}},[e._l(e.form,(function(t,a){return r("a-form-model-item",{key:a,attrs:{label:t.label,labelCol:{lg:{span:4},sm:{span:7}},wrapperCol:{lg:{span:t.wrapperCol},sm:{span:10}},prop:t.prop}},["input"===t.type?r("a-input",{attrs:{name:t.prop,placeholder:"请输入"+t.label},model:{value:e.insertForm[t.prop],callback:function(r){e.$set(e.insertForm,t.prop,r)},expression:"insertForm[item.prop]"}}):e._e(),"radio"===t.type?r("a-radio-group",{model:{value:e.insertForm[t.prop],callback:function(r){e.$set(e.insertForm,t.prop,r)},expression:"insertForm[item.prop]"}},e._l(t.option,(function(t,a){return r("a-radio-button",{key:a,attrs:{value:t.key}},[e._v(" "+e._s(t.value)+" ")])})),1):e._e()],1)})),r("a-form-model-item",{staticStyle:{"text-align":"center"},attrs:{"wrapper-col":{span:24}}},[r("a-button",{attrs:{type:"primary","html-type":"submit",loading:e.submit}},[e._v(" 提交 ")])],1)],2)],1)],1)],1)},n=[],i=(r("b64b"),r("aa98")),o={name:"Add",data:function(){return{loading:!1,submit:!1,satellite:!1,form:[{label:"设备编号",prop:"sn",type:"input",wrapperCol:12,validate:!0},{label:"设备类型",prop:"type",type:"radio",wrapperCol:12,option:[{key:"打卡机",value:"人脸识别终端"},{key:"gps",value:"移动通信定位终端"}],validate:!0},{label:"船只名称",prop:"device_name",type:"input",wrapperCol:12,validate:!0},{label:"备注",prop:"remark",type:"radio",wrapperCol:12,option:[{key:"上船",value:"上船"},{key:"下船",value:"下船"},{key:"定位",value:"定位"}],validate:!0}],insertForm:{},insertFormRules:{sn:[{required:!0,message:"请输入设备编号",trigger:"blur"}],type:[{required:!0,message:"请选择设备类型",trigger:"blur"}],device_name:[{required:!0,message:"请输入船只名称",trigger:"blur"}],remark:[{required:!0,message:"请选择备注",trigger:"blur"}]},edit:!1}},mounted:function(){this.getQueryParameter()},methods:{getQueryParameter:function(){var e=this.$route.query;Object.keys(e).length>0&&(this.loading=!0)},handleSubmit:function(e){var t=this;e.preventDefault(),this.$refs.insert.validate((function(e){e&&(t.submit=!0,t.edit||Object(i["a"])(t.insertForm).then((function(e){t.submit=!1,e.status?t.$notification.error({message:e.msg}):(t.$notification.success({message:"新增成功"}),setTimeout((function(){t.$router.push({name:"DeviceList"})}),1e3))})).catch((function(){t.submit=!1})))}))}}},s=o,u=(r("b49a"),r("2877")),l=Object(u["a"])(s,a,n,!1,null,"269d8e89",null);t["default"]=l.exports},aa98:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"d",(function(){return o})),r.d(t,"b",(function(){return s})),r.d(t,"c",(function(){return u}));var a=r("b775"),n={add:"/admin/device/add",list:"/admin/device/list",boatList:"/admin/device/boat_list",delete:"/admin/device/delete"};function i(e){return Object(a["b"])({url:n.add,method:"post",data:e})}function o(){return Object(a["b"])({url:n.list,method:"get"})}function s(e){return Object(a["b"])({url:n.delete,method:"post",data:e})}function u(e){return Object(a["b"])({url:n.boatList,method:"get",params:e})}},b49a:function(e,t,r){"use strict";r("00ab")}}]);