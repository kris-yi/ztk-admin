(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2697a6c3"],{"0fa2":function(t,e,a){},"19c4":function(t,e,a){"use strict";a("0fa2")},"50fc":function(t,e,a){"use strict";a.d(e,"a",(function(){return o})),a.d(e,"d",(function(){return l})),a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return s})),a.d(e,"e",(function(){return c}));var n=a("b775"),i={add:"/admin/add",del:"/admin/delete",edit:"/admin/edit",detail:"/admin/detail",list:"/admin/list"};function o(t){return Object(n["b"])({url:i.add,method:"post",data:t})}function l(t){return Object(n["b"])({url:i.list,method:"get",params:t})}function r(t){return Object(n["b"])({url:i.del,method:"post",data:t})}function s(t){return Object(n["b"])({url:i.edit,method:"post",data:t})}function c(t){return Object(n["b"])({url:i.detail,method:"get",params:t})}},f717:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=this,a=e.$createElement,n=e._self._c||a;return n("page-header-wrapper",[n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"}},[n("a-row",{attrs:{gutter:48}},[e._l(e.filter.columns,(function(t,a){return n("a-col",{key:a,attrs:{md:6}},[n("a-form-item",{attrs:{label:t.label}},["input"===t.type?n("a-input",{attrs:{placeholder:"请输入"+t.label},model:{value:e.filter.data[t.prop],callback:function(a){e.$set(e.filter.data,t.prop,a)},expression:"filter.data[item.prop]"}}):e._e(),"select"===t.type?n("a-select",{attrs:{placeholder:"请选择"+t.label},model:{value:e.filter.data[t.prop],callback:function(a){e.$set(e.filter.data,t.prop,a)},expression:"filter.data[item.prop]"}},e._l(t.option,(function(t,a){return n("a-select-option",{key:a,attrs:{value:t.value}},[e._v(" "+e._s(t.label)+" ")])})),1):e._e()],1)],1)})),n("a-col",{attrs:{md:24}},[n("span",{staticClass:"table-page-search-submitButtons",style:{float:"right",overflow:"hidden"}},[n("a-button",{attrs:{type:"primary"},on:{click:e.onSearch}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},on:{click:e.onResetSearch}},[e._v("重置")])],1)])],2)],1)],1),n("div",{staticClass:"table-operator"},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:function(){t.$router.push({name:"addAdmin"})}}},[e._v("新增")])],1),n("a-table",{attrs:{dataSource:e.tableData.list,loading:e.tableData.loading,columns:e.tableData.column,pagination:e.tableData.pagination,rowKey:function(t,e){return e}},scopedSlots:e._u([{key:"action",fn:function(t,a){return["admin"!==a.name?n("a-icon",{style:{color:"#1890ff"},attrs:{type:"edit"},on:{click:function(t){return e.onEdit(a)}}}):e._e(),"admin"!==a.name?n("a-popconfirm",{attrs:{title:"确定要删除吗？","ok-text":"是","cancel-text":"否",visible:parseInt(a.id)===parseInt(e.visibleId)&&e.deleteVisible,"ok-button-props":e.okButtonProps},on:{confirm:function(t){return e.handleDelete(a)},cancel:e.onDeleteCancel}},[n("a-icon",{style:{color:"#1890ff"},attrs:{type:"delete"},on:{click:function(t){return e.onDelete(a)}}})],1):e._e()]}}])})],1)],1)},i=[],o=(a("4de4"),a("50fc")),l={name:"List",data:function(){return{filter:{columns:[{prop:"nickname",label:"昵称",type:"input"}],data:{}},tableData:{column:[{title:"账户",dataIndex:"name"},{title:"昵称",dataIndex:"nickname"},{title:"操作",dataIndex:"action",class:"action",align:"right",scopedSlots:{customRender:"action"}}],list:[],pagination:{current:1,pageSize:20,total:0},loading:!1},deleteVisible:!1,visibleId:"",okButtonProps:{props:{loading:!1}},domain:"http://36.133.203.166:8081"}},mounted:function(){this.getList()},methods:{getList:function(){var t=this;this.tableData.loading=!0;var e=this.filter.data;e.page=this.tableData.pagination.current,e.limit=this.tableData.pagination.pageSize,Object(o["d"])(e).then((function(e){t.tableData.list=e.data.list;var a=e.data.pagination;t.tableData.pagination={current:a.page,pageSize:a.limit,total:a.total},t.tableData.loading=!1}))},onEdit:function(t){this.$router.push({path:"/admin/add",query:{id:t.id}})},onDelete:function(t){this.visibleId=t.id,this.deleteVisible=!0},onDeleteCancel:function(){this.deleteVisible=!1},handleDelete:function(t){var e=this;this.okButtonProps.props.loading=!0;var a={id:this.visibleId};Object(o["b"])(a).then((function(t){t.status?e.$notification.error({message:t.msg}):(e.submit=!1,e.$notification.success({message:"删除成功"}),e.deleteVisible=!1,e.okButtonProps.props.loading=!1,e.getList())})).catch((function(){e.okButtonProps.props.loading=!1,e.deleteVisible=!1}))},onClockList:function(t){this.$router.push({name:"ClockList",query:{pin:t.pin}})},onSearch:function(){this.getList()},onResetSearch:function(){this.filter.data={},this.getList()}}},r=l,s=(a("19c4"),a("2877")),c=Object(s["a"])(r,n,i,!1,null,"691ae1db",null);e["default"]=c.exports}}]);