(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a7d24c28"],{"0103":function(e,t,r){},1849:function(e,t,r){"use strict";r("0103")},a26d:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("page-header-wrapper",[r("a-card",{attrs:{bordered:!1}},[r("a-spin",{attrs:{spinning:e.loading}},[r("a-form-model",{ref:"insert",attrs:{model:e.insertForm,rules:e.insertFormRules},on:{submit:e.handleSubmit}},[e._l(e.form,(function(t,n){return r("a-form-model-item",{key:n,attrs:{label:t.label,labelCol:{lg:{span:4},sm:{span:7}},wrapperCol:{lg:{span:t.wrapperCol},sm:{span:10}},prop:t.prop}},["input"===t.type?r("a-input",{attrs:{name:t.prop,placeholder:"请输入"+t.label},model:{value:e.insertForm[t.prop],callback:function(r){e.$set(e.insertForm,t.prop,r)},expression:"insertForm[item.prop]"}}):e._e(),"radio"===t.type?r("a-radio-group",{model:{value:e.insertForm[t.prop],callback:function(r){e.$set(e.insertForm,t.prop,r)},expression:"insertForm[item.prop]"}},e._l(t.option,(function(t,n){return r("a-radio-button",{key:n,attrs:{value:t.key}},[e._v(" "+e._s(t.value)+" ")])})),1):e._e()],1)})),r("a-form-model-item",{staticStyle:{"text-align":"center"},attrs:{"wrapper-col":{span:24}}},[r("a-button",{attrs:{type:"primary","html-type":"submit",loading:e.submit}},[e._v(" 提交 ")])],1)],2)],1)],1)],1)},a=[],i=(r("b64b"),r("b0c0"),r("c24f")),o={name:"Add",data:function(){return{loading:!1,submit:!1,satellite:!1,form:[{label:"姓名",prop:"name",type:"input",wrapperCol:12,validate:!0},{label:"身份证号",prop:"cardId",type:"input",wrapperCol:12},{label:"性别",prop:"sex",type:"radio",wrapperCol:12,option:[{key:"男",value:"男"},{key:"女",value:"女"}],validate:!0},{label:"联系电话",prop:"phone",type:"input",wrapperCol:12,validate:!0},{label:"备用联系电话",prop:"mobile",type:"input",wrapperCol:12},{label:"住址",prop:"address",type:"input",wrapperCol:12}],insertForm:{},insertFormRules:{name:[{required:!0,message:"请输入居民姓名",trigger:"blur"}],phone:[{required:!0,message:"请输入联系电话",trigger:"blur"}],sex:[{required:!0,message:"请选择性别",trigger:"blur"}]},edit:!1}},mounted:function(){this.getQueryParameter()},methods:{getQueryParameter:function(){var e=this,t=this.$route.query;Object.keys(t).length>0&&(this.loading=!0,Object(i["g"])({id:t.id}).then((function(r){e.insertForm={id:t.id,name:r.data.name,cardId:r.data.id_card,sex:r.data.sex,phone:r.data.phone,mobile:r.data.mobile,address:r.data.address,pin:r.data.pin},e.edit=!0,e.loading=!1})))},handleSubmit:function(e){var t=this;e.preventDefault(),this.$refs.insert.validate((function(e){e&&(t.submit=!0,t.edit?Object(i["c"])(t.insertForm).then((function(e){e.status?t.$notification.error({message:e.msg}):(t.submit=!1,t.$notification.success({message:"更新成功"}),setTimeout((function(){t.$router.push("/user/list")}),1e3))})):Object(i["a"])(t.insertForm).then((function(e){e.status?t.$notification.error({message:e.msg}):(t.submit=!1,t.$notification.success({message:"新增成功"}))})))}))}}},s=o,u=(r("1849"),r("2877")),d=Object(u["a"])(s,n,a,!1,null,"3c6ad86c",null);t["default"]=d.exports},c24f:function(e,t,r){"use strict";r.d(t,"e",(function(){return i})),r.d(t,"a",(function(){return o})),r.d(t,"g",(function(){return s})),r.d(t,"c",(function(){return u})),r.d(t,"b",(function(){return d})),r.d(t,"d",(function(){return p})),r.d(t,"f",(function(){return l}));var n=r("b775"),a={list:"/admin/user/list",add:"/admin/user/add",info:"/admin/user/info",edit:"/admin/user/edit",delete:"/admin/user/delete",clockList:"/admin/user/clock_list",updatePassword:"/admin/update_password"};function i(e){return Object(n["b"])({url:a.list,method:"get",params:e})}function o(e){return Object(n["b"])({url:a.add,method:"post",data:e})}function s(e){return Object(n["b"])({url:a.info,method:"get",params:e})}function u(e){return Object(n["b"])({url:a.edit,method:"post",data:e})}function d(e){return Object(n["b"])({url:a.delete,method:"post",data:e})}function p(e){return Object(n["b"])({url:a.clockList,method:"get",params:e})}function l(e){return Object(n["b"])({url:a.updatePassword,method:"post",data:e})}}}]);