(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b7df8b5a"],{5755:function(t,e,n){"use strict";n("a675")},7661:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"e",(function(){return r})),n.d(e,"d",(function(){return s})),n.d(e,"c",(function(){return l})),n.d(e,"b",(function(){return c}));var i=n("b775"),a={add:"/admin/map/add",list:"/admin/map/list",info:"/admin/map/info",edit:"/admin/map/edit",delete:"/admin/map/delete"};function o(t){return Object(i["b"])({url:a.add,method:"post",data:t})}function r(){return Object(i["b"])({url:a.list,method:"get"})}function s(t){return Object(i["b"])({url:a.info,method:"get",params:t})}function l(t){return Object(i["b"])({url:a.edit,method:"post",data:t})}function c(t){return Object(i["b"])({url:a.delete,method:"post",data:t})}},a675:function(t,e,n){},cf25:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=this,n=e.$createElement,i=e._self._c||n;return i("page-header-wrapper",[i("a-card",{attrs:{bordered:!1}},[i("div",{staticClass:"table-operator"},[i("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:function(){t.$router.push({name:"AddMap"})}}},[e._v("新增")])],1),i("a-table",{attrs:{dataSource:e.tableData.list,loading:e.tableData.loading,columns:e.tableData.column,pagination:e.tableData.pagination,rowKey:function(t,e){return e}},scopedSlots:e._u([{key:"inOrOut",fn:function(t,n){return["上岛"===n.inOrOut?i("span",[e._v("岛方向")]):e._e(),"离岛"===n.inOrOut?i("span",[e._v("岸方向")]):e._e()]}},{key:"action",fn:function(t,n){return[i("a-icon",{style:{color:"#1890ff"},attrs:{type:"edit"},on:{click:function(t){return e.onEdit(n)}}}),i("a-popconfirm",{attrs:{title:"确定要删除吗？","ok-text":"是","cancel-text":"否",visible:n._id===e.visibleId&&e.deleteVisible,"ok-button-props":e.okButtonProps},on:{confirm:function(t){return e.handleDelete(n)},cancel:e.onDeleteCancel}},[i("a-icon",{style:{color:"#1890ff"},attrs:{type:"delete"},on:{click:function(t){return e.onDelete(n)}}})],1)]}}])})],1)],1)},a=[],o=n("7661"),r={name:"Map",data:function(){return{tableData:{column:[{title:"名称",dataIndex:"name"},{title:"上/离岛",dataIndex:"inOrOut",scopedSlots:{customRender:"inOrOut"}},{title:"操作",dataIndex:"action",class:"action",align:"right",scopedSlots:{customRender:"action"}}],list:[],pagination:{current:1,pageSize:20,total:0}},deleteVisible:!1,visibleId:"",okButtonProps:{props:{loading:!1}}}},created:function(){this.list()},methods:{list:function(){var t=this;Object(o["e"])().then((function(e){t.tableData.list=e.data.list,t.tableData.pagination={current:e.data.pagination.page,pageSize:e.data.pagination.limit,total:e.data.pagination.total}}))},onEdit:function(t){this.$router.push({name:"AddMap",query:{id:t._id}})},handleDelete:function(){var t=this;this.okButtonProps.props.loading=!0,Object(o["b"])({id:this.visibleId}).then((function(e){e.status?t.$notification.error({message:e.msg}):(t.submit=!1,t.$notification.success({message:"删除成功"}),t.deleteVisible=!1,t.okButtonProps.props.loading=!1,t.list())})).catch((function(){t.okButtonProps.props.loading=!1,t.deleteVisible=!1}))},onDelete:function(t){this.visibleId=t._id,this.deleteVisible=!0},onDeleteCancel:function(){this.deleteVisible=!1}}},s=r,l=(n("5755"),n("2877")),c=Object(l["a"])(s,i,a,!1,null,"1b677406",null);e["default"]=c.exports}}]);